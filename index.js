(()=>{(function(){"use strict";var h=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("k-inside",[t("k-view",{staticClass:"k-logger-view"},[t("k-header",[e._v("Logger")]),e.logs?t("table",{staticClass:"k-system-plugins"},[t("thead",[t("tr",[t("th",[e._v("Timestamp")]),t("th",[t("k-input",{class:{selected:e.filter.user!==""},attrs:{options:e.userOptions,type:"select",placeholder:"User",icon:"angle-down"},model:{value:e.filter.user,callback:function(s){e.$set(e.filter,"user",s)},expression:"filter.user"}})],1),t("th",[t("k-input",{class:{selected:e.filter.type!==""},attrs:{options:e.typeOptions,type:"select",placeholder:"Type",icon:"angle-down"},model:{value:e.filter.type,callback:function(s){e.$set(e.filter,"type",s)},expression:"filter.type"}})],1),t("th",[t("k-input",{class:{selected:e.filter.action!==""},attrs:{options:e.actionOptions,type:"select",placeholder:"Action",icon:"angle-down"},model:{value:e.filter.action,callback:function(s){e.$set(e.filter,"action",s)},expression:"filter.action"}})],1),t("th",[t("k-input",{class:{selected:e.filter.slug!==""},attrs:{options:e.slugOptions,type:"select",placeholder:"Slug",icon:"angle-down"},model:{value:e.filter.slug,callback:function(s){e.$set(e.filter,"slug",s)},expression:"filter.slug"}})],1),t("th",[t("k-input",{class:{selected:e.filter.language!==""},attrs:{options:e.languageOptions,type:"select",placeholder:"Language",icon:"angle-down"},model:{value:e.filter.language,callback:function(s){e.$set(e.filter,"language",s)},expression:"filter.language"}})],1),t("th",[t("k-input",{class:{selected:e.filter.oldSearch!==""},attrs:{type:"text",placeholder:"Suche ...",icon:"search"},model:{value:e.filter.oldSearch,callback:function(s){e.$set(e.filter,"oldSearch",s)},expression:"filter.oldSearch"}})],1),t("th",[t("k-input",{class:{selected:e.filter.newSearch!==""},attrs:{type:"text",placeholder:"Suche ...",icon:"search"},model:{value:e.filter.newSearch,callback:function(s){e.$set(e.filter,"newSearch",s)},expression:"filter.newSearch"}})],1)])]),t("tbody",e._l(e.logs,function(s){return t("tr",{key:s.id},[t("td",[e._v(e._s(s.timestamp))]),t("td",[e._v(e._s(s.user))]),t("td",[e._v(e._s(s.type))]),t("td",[e._v(e._s(s.action))]),t("td",[e._v(e._s(s.slug))]),t("td",[e._v(e._s(s.language))]),t("td",[e._v(e._s(s.oldData))]),t("td",[e._v(e._s(s.newData))])])}),0)]):e._e(),t("k-pagination",{attrs:{align:"right",details:!0,keys:!0,page:e.page,limit:e.limit,total:e.total},on:{paginate:e.paginate}})],1)],1)},d=[],$="";function f(e,n,t,s,o,u,c,k){var i=typeof e=="function"?e.options:e;n&&(i.render=n,i.staticRenderFns=t,i._compiled=!0),s&&(i.functional=!0),u&&(i._scopeId="data-v-"+u);var l;if(c?(l=function(a){a=a||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!a&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(a=__VUE_SSR_CONTEXT__),o&&o.call(this,a),a&&a._registeredComponents&&a._registeredComponents.add(c)},i._ssrRegister=l):o&&(l=k?function(){o.call(this,(i.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(i.functional){i._injectStyles=l;var S=i.render;i.render=function(w,g){return l.call(g),S(w,g)}}else{var p=i.beforeCreate;i.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:i}}const _={name:"LoggerArea",data(){return{logs:[],total:0,page:1,limit:15,filter:{oldSearch:"",newSearch:"",action:"",type:"",user:"",slug:"",language:""}}},mounted(){this.fetch(this.page,this.limit)},watch:{filter:{handler(e){this.fetch(this.page,this.limit,e)},deep:!0}},methods:{fetch(e=1,n=10,t=null){return this.$api.post("logs.json",{page:e,limit:n,filter:t}).then(s=>{this.logs=s.logs,console.log(this.logs),this.total=s.total})},paginate({page:e,limit:n}){this.page=e,this.limit=n,this.fetch(e,n)}},computed:{userOptions(){const e=this.logs.map(t=>t.user);return[...new Set(e)].map(t=>({value:t,text:t}))},typeOptions(){const e=this.logs.map(t=>t.type);return[...new Set(e)].map(t=>({value:t,text:t}))},actionOptions(){const e=this.logs.map(t=>t.action);return[...new Set(e)].map(t=>({value:t,text:t}))},slugOptions(){const e=this.logs.map(t=>t.slug);return[...new Set(e)].map(t=>({value:t,text:t}))},languageOptions(){const e=this.logs.map(t=>t.language);return[...new Set(e)].map(t=>({value:t,text:t}))}}},r={};var v=f(_,h,d,!1,m,null,null,null);function m(e){for(let n in r)this[n]=r[n]}var y=function(){return v.exports}();window.panel.plugin("michnhokn/logger",{components:{"k-logger-area":y}})})();})();
